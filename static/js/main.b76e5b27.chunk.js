(this["webpackJsonpanother-google-map-react-example"]=this["webpackJsonpanother-google-map-react-example"]||[]).push([[0],{13:function(e,t,n){},14:function(e,t,n){"use strict";n.r(t);n(8);var r=n(0),o=n.n(r),a=n(4),u=n.n(a),c=n(5),i=n(6),l=Object(r.createContext)(null),s="undefined"!==typeof window;var f=function(e){var t=Object(r.useRef)(null),n=Object(r.useState)(null),o=n[0],a=n[1];return Object(r.useEffect)((function(){s&&function(){try{return Promise.resolve((n=e.gooleMapLoaderUrl,s&&"undefined"!==typeof window.google?Promise.resolve():new Promise((function(e){var t=document.createElement("script");t.type="text/javascript",t.src=n,t.onload=e,document.head.appendChild(t)})))).then((function(){var n=new window.google.maps.Map(t.current,{center:{lat:e.mapPosition.lat,lng:e.mapPosition.lng},zoom:e.zoom,mapTypeId:"roadmap",streetViewControl:!1,mapId:"953062f907135420"});a(n)}))}catch(r){return Promise.reject(r)}var n}()}),[]),Object(r.createElement)("div",null,Object(r.createElement)("div",{style:{top:"0",height:"100vh",border:"solid 1px Black"},ref:t}),Object(r.createElement)(l.Provider,{value:o},s&&e.children))};function p(e){return e.properties.key}function d(e){return e.getProperty("key")}function m(e){var t=Object(r.useContext)(l),n=Object(r.useState)(null),o=n[0],a=n[1];return window.google&&null==o&&((o=new window.google.maps.Data).addListener("click",(function(t){e.onFeatureClick&&e.onFeatureClick(t.feature)})),a(o),o.setMap(t),o.setStyle(e.getMapFeatureStyleFunc)),Object(r.useEffect)((function(){if(window.google){var t=[];o.forEach((function(e){t.push(e)}));var n=function(e,t){var n=[],r=[],o=t.map((function(e){return p(e)}));return e.forEach((function(e){var t=d(e);o.includes(t)?r.push(t):n.push(t)})),{featuresToAdd:t.filter((function(e){return!r.includes(p(e))})),idsToRemove:n}}(t,e.features),r=n.featuresToAdd,a=n.idsToRemove;o.forEach((function(e){var t=d(e);a.includes(t)&&o.remove(e)})),o.addGeoJson({type:"FeatureCollection",features:r})}}),[JSON.stringify(e.features)]),null}n(13);function g(e){return e.map((function(e){return{type:"Feature",geometry:{type:"Point",coordinates:[e.lng,e.lat]},properties:{name:"test",id:e.id,key:e.id}}}))}function v(){return{title:"AAAA"}}var h=function(){var e=o.a.useState([]),t=Object(i.a)(e,2),n=t[0],r=t[1];return o.a.useEffect((function(){var e=setInterval((function(){console.log("here"),r((function(e){return[].concat(Object(c.a)(e),[{lat:-34+Math.random()-.5,lng:151+Math.random()-.5,id:Math.floor(1e8*Math.random())}])})),r((function(e){return e.length>100?e.slice(1):e}))}),50);return function(){return clearInterval(e)}}),[]),o.a.createElement("div",null,o.a.createElement(f,{gooleMapLoaderUrl:"https://maps.googleapis.com/maps/api/js?v=beta&libraries=places",mapPosition:{lat:-34,lng:151},zoom:10},o.a.createElement(m,{features:g(n),onFeatureClick:function(){},getMapFeatureStyleFunc:v})))};u.a.render(o.a.createElement(h,null),document.getElementById("root"))},7:function(e,t,n){e.exports=n(14)},8:function(e,t,n){}},[[7,1,2]]]);
//# sourceMappingURL=main.b76e5b27.chunk.js.map