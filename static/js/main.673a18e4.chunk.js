(this["webpackJsonpanother-google-map-react-example"]=this["webpackJsonpanother-google-map-react-example"]||[]).push([[0],{13:function(e,t,n){},14:function(e,t,n){"use strict";n.r(t);n(8);var r=n(0),o=n.n(r),a=n(5),u=n.n(a),c=n(6),l=n(3),i=Object(r.createContext)(null),s="undefined"!==typeof window;var d=function(e){var t=Object(r.useRef)(null),n=Object(r.useState)(null),o=n[0],a=n[1];return Object(r.useEffect)((function(){s&&function(){try{return Promise.resolve((n=e.gooleMapLoaderUrl,s&&"undefined"!==typeof window.google?Promise.resolve():new Promise((function(e){var t=document.createElement("script");t.type="text/javascript",t.src=n,t.onload=e,document.head.appendChild(t)})))).then((function(){var n=new window.google.maps.Map(t.current,e.googleMapOptions);a(n),n.addListener("bounds_changed",(function(){var t=n.getBounds(),r={east:t.getNorthEast().lng(),west:t.getSouthWest().lng(),south:t.getSouthWest().lat(),north:t.getNorthEast().lat()};e.onBoundsChanged&&e.onBoundsChanged(r)})),n.addListener("click",(function(t){var n={lat:t.latLng.lat(),lng:t.latLng.lng()};e.onClick&&e.onClick(n,t)}))}))}catch(r){return Promise.reject(r)}var n}()}),[]),Object(r.createElement)("div",null,Object(r.createElement)("div",{style:e.style,ref:t}),Object(r.createElement)(i.Provider,{value:o},s&&e.children))};function f(e){return e.properties.key}function p(e){return e.getProperty("key")}function g(e){var t=Object(r.useContext)(i),n=Object(r.useState)(null),o=n[0],a=n[1];return window.google&&null==o&&((o=new window.google.maps.Data).addListener("click",(function(t){e.onFeatureClick&&e.onFeatureClick(t.feature)})),a(o),o.setMap(t),o.setStyle(e.getMapFeatureStyleFunc)),Object(r.useEffect)((function(){if(window.google){var t=[];o.forEach((function(e){t.push(e)}));var n=function(e,t){var n=[],r=[],o=t.map((function(e){return f(e)}));return e.forEach((function(e){var t=p(e);o.includes(t)?r.push(t):n.push(t)})),{featuresToAdd:t.filter((function(e){return!r.includes(f(e))})),idsToRemove:n}}(t,e.features),r=n.featuresToAdd,a=n.idsToRemove;o.forEach((function(e){var t=p(e);a.includes(t)&&o.remove(e)})),o.addGeoJson({type:"FeatureCollection",features:r})}}),[JSON.stringify(e.features)]),null}n(13);function m(e){return e.map((function(e){return{type:"Feature",geometry:{type:"Point",coordinates:[e.lng,e.lat]},properties:{name:"test",id:e.id,key:e.id}}}))}function h(e){return{title:e.getProperty("id")}}var v=function(){var e=o.a.useState([]),t=Object(l.a)(e,2),n=t[0],r=t[1],a=o.a.useState(null),u=Object(l.a)(a,2),i=u[0],s=u[1];return o.a.useEffect((function(){var e=setInterval((function(){r((function(e){return[].concat(Object(c.a)(e),[{lat:-34+Math.random()-.5,lng:151+Math.random()-.5,id:Math.floor(1e8*Math.random())}])})),r((function(e){return e.length>100?e.slice(1):e}))}),500);return function(){return clearInterval(e)}}),[]),o.a.createElement("div",null,o.a.createElement("div",null,JSON.stringify(i)),o.a.createElement(d,{googleMapOptions:{center:{lat:-34,lng:151},zoom:10,mapTypeId:"roadmap",streetViewControl:!1,mapId:"953062f907135420"},style:{border:"solid 1px Black",height:"calc(100vh - 200px)"},onClick:function(e){return alert(JSON.stringify(e))},onBoundsChanged:function(e){return s(e)},gooleMapLoaderUrl:"https://maps.googleapis.com/maps/api/js?v=beta&libraries=places"},o.a.createElement(g,{features:m(n),onFeatureClick:function(e){alert("Feature ID=".concat(e.getProperty("id")," clicked"))},getMapFeatureStyleFunc:h})))};u.a.render(o.a.createElement(v,null),document.getElementById("root"))},7:function(e,t,n){e.exports=n(14)},8:function(e,t,n){}},[[7,1,2]]]);
//# sourceMappingURL=main.673a18e4.chunk.js.map